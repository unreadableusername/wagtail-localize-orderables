# wagtail-localize orderables not translatable
- The database setup for this project is the standard sqlite setup
- The Snippet to be translated is located in app_custom_models/models
- The orderable is embedded into home/models

## Setup
1. Create database with `python manage.py makemigrations`
2. Migrate with `python manage.py migrate`
3. Create superuser `python manage.py createsuperuser`
4. Login at 127.0.0.1:8000/admin and create a second locale in the side menu
5. Create snippets and embedd them into the home page

## Enable translation for models with existing database entries
1. Add BootstrapTranslatableMixin to the model
```py
from wagtail.models import BootstrapTranslatableMixin #here
...
class ContactPersonOrderable(BootstrapTranslatableMixin, Orderable): #here
    ...

    class Meta(BootstrapTranslatableMixin.Meta ,Orderable.Meta): #here if present
        pass
```
2. Run `python manage.py makemigrations` to add the required fields to the model
3. Create an empty migration file for your app with `python manage.py makemigrations 'myapp' --empty` that will look like this:
```py
# Generated by Django 4.1.7 on 2023-03-08 11:19

from django.db import migrations
from wagtail.models import BootstrapTranslatableModel


class Migration(migrations.Migration):

    dependencies = [
        ('home', '0002_contactpersonorderable_locale_and_more'),  # auto generated
    ]

    operations = [
    ]
```
4. Add the bootstrap operation to the operations field in the empty migration:
```py
operations = [
    BootstrapTranslatableModel('home.ContactPersonOrderable'), # app.modelname
]
```
5. Replace all `BootsrapTranslatableMixin` with `TranslatableMixin`
```py
from wagtail.models import TranslatableMixin #here
...
class ContactPersonOrderable(TranslatableMixin, Orderable): #here
    ...

    class Meta(TranslatableMixin.Meta ,Orderable.Meta): #here if present
        pass
```
6. Run `python manage.py makemigrations` and `python manage.py migrate` to finish the transition.

7. Last step is to set a manual default for all existing database entries, empty string '' is okay.